<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POS_Customers</title>
    <link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
   
</head>
<body>
    <nav class=" navbar navbar-expand-lg navbar-dark " style="background-color: #5f8ba8;">
        <div class="container-fluid ">
          <a class="nav navbar-brand  mt-1" href="#" >
            <img src="assets/img/icons8_multibanco_96px.png" alt="" width="45" height="45" class="d-inline-block align-text-top"> PLACE ORDER SYSTEM</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" aria-current="page" id="nav-home" href="#">Home</a>
              </li> 
              <li class="nav-item">
                <a class="nav-link" id="nav-custom" href="#" >Customers</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="nav-item" href="#">Items</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="nav-order" href="#">PlaceOrder</a>
              </li>
            </ul>
            <button class="btn btn-danger" type="submit">LOGOUT</button>
          </div>
        </div>
      </nav>

     
   

  <!-- customer///////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <section class="container" id="customWindow">
      <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
        <ol class="breadcrumb mt-5">
          <li class="breadcrumb-item"><a href="#">Home</a></li>
          <li class="breadcrumb-item active" aria-current="page">Customers</li>
        </ol>
      </nav>

      <section class="row">
          <div class="custombar col-12 col-md-12 mt-1">
            <p class="mt-2"><img src="assets/img/users.png" alt="" width="45" height="45">Customers</p>
          </div>
      </section>

      <section class="row mt-3">
        <!--<div class="col-12 col-md-12 col-lg  mt-5">
          <div id="btnsCustomer" class="btn-group" role="group" aria-label="Basic mixed styles example">
              <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">Delete</button>
              <button id="btnUpdateCustomer" type="button" class="btn btn-primary"  data-bs-toggle="modal" data-bs-target="#updateModal">Update</button>
              <button type="button" class="btn btn-success"  data-bs-toggle="modal" data-bs-target="#addModal">Add New Customer</button>
              <button class="btn btn-success" id="btnGetAllCustomers">Get All</button>
          </div>
        </div>

        <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div id="deleteCustomer" class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Delete Customer</h5>
                <button type="button" class="btn-close btn-light" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Are you sure you want to delete customer?
              </div>
              <div class="modal-footer">
                <button  type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button id="btnCusDelete" type="button" class="btn btn-danger">Delete Customer</button>
              </div>
            </div>
          </div>
        </div>

        <div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div id="addCustomer" class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Add New Customer</h5>
                <button type="button" class="btn-close btn-light" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form id="customerForm">
                  <div class="mb-3">
                    <label for="txtCustomerId" class="form-label">Customer Id</label>
                    <input type="text" class="form-control " id="txtCustomerId" name="customerID" placeholder="Customer ID">
                    <p><small class="text-danger pl-1" id="lblcusid"></small></p>
                  </div>
                  <div class="mb-3">
                    <label for="txtCustomerName" class="form-label">Name</label>
                    <input type="text" class="form-control " id="txtCustomerName" name="customerName" placeholder="Customer Name">
                    <p><small class="text-danger pl-1" id="lblcusname"></small></p>
                  </div>
                  <div class="mb-3">
                    <label for="txtCustomerAddress" class="form-label">Address</label>
                    <input type="text" class="form-control " id="txtCustomerAddress" name="customerAddress" placeholder="Customer Address">
                    <p><small class="text-danger pl-1" id="lblcusaddress"></small></p>
                  </div>
                  <div class="mb-3">
                    <label for="txtCustomerContact" class="form-label">Contact</label>
                    <input type="text" class="form-control " id="txtCustomerContact" name="customerContact" placeholder="Customer Contact">
                    <p><small class="text-danger pl-1" id="lblcussalary"></small></p>
                  </div>                
                </form>
              </div>
              <div class="modal-footer">
                <button id="btnCustClear" type="button" class="btn btn-danger" >Clear</button>
                <button id="btnCustadd" type="button" class="btn btn-success">Add Customer</button>
              </div>
            </div>
          </div>
        </div>

         <div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div id="updateCustomer" class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Update Customer</h5>
                <button type="button" class="btn-close btn-light" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form>
                  <div class="mb-3">
                    <label for="txtCustomerId2" class="form-label">Customer Id</label>
                    <input type="text" class="form-control " id="txtCustomerId2" name="customerID" placeholder="Customer ID">
                    <p><small class="text-danger pl-1" id="lblcusid"></small></p>
                  </div>
                  <div class="mb-3">
                    <label for="txtCustomerName2" class="form-label">Name</label>
                    <input type="text" class="form-control " id="txtCustomerName2" name="customerName" placeholder="Customer Name">
                    <p><small class="text-danger pl-1" id="lblcusname"></small></p>
                  </div>
                  <div class="mb-3">
                    <label for="txtCustomerAddress2" class="form-label">Address</label>
                    <input type="text" class="form-control " id="txtCustomerAddress2" name="customerAddress" placeholder="Customer Address>
                    <p><small class="text-danger pl-1" id="lblcusaddress"></small></p>
                  </div>
                  <div class="mb-3">
                    <label for="txtCustomerContact2" class="form-label">Contact</label>
                    <input type="text" class="form-control " id="txtCustomerContact2" name="customerContact" placeholder="Customer Contact>
                    <p><small class="text-danger pl-1" id="lblcussalary"></small></p>
                  </div>                
                </form>
              </div>
              <div class="modal-footer">
                <button id="btnCustClear" type="button" class="btn btn-danger" >Clear</button>
                <button id="btnCustUpdate" type="button" class="btn btn-success">Update</button>
              </div>
            </div>
          </div>
        </div>

        <div  class="col col-md-12 col-lg  mt-5">
          <form id="search" class="d-flex">
            <input id="txtSearchCusID" aria-label="Search" class="border form-control me-2  border-primary border-3" placeholder="Enter Customer" name="searchCustomerName" type="search">
            <div class="dropdown">
              <a class="btn btn-light btn-lg dropdown-toggle border-success border-3" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                Type
              </a>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                <li><a class="dropdown-item" href="#">ID</a></li>
                <li><a class="dropdown-item" href="#">Name</a></li>
              </ul>
            </div>
            <button id="btnCustomerSearch" class="btn btn-outline-success border-success border-3" type="button" data-bs-toggle="modal" data-bs-target="#addModal">Search</button>
          </form>
        <div>
      </section>
     
      <section class="row">
        <table class="table  table-striped table-hover table-bordered border-light mt-5" style="background-color: #90bfdf;">
          <thead class="table-striped" style="background-color: #024877; color: white;">
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Name</th>
              <th scope="col">Address</th>
              <th scope="col">Contact</th>
            </tr>
          </thead>
          <tbody id="tblCustomer" >

          </tbody>
        </table>
    </section>-->
        <div class="row mt-3">
          <div class="col-4">
            <form id="customerForm">
              <div class="mb-3">
                <label class="form-label" for="cusID">Customer ID</label>
                <input class="form-control" id="cusID" name="customerID" placeholder="Customer ID" type="text">
              </div>
              <div class="mb-3">
                <label class="form-label" for="cusName">Customer Name</label>
                <input class="form-control" id="cusName" name="customerName" placeholder="Customer Name"
                       type="text">
              </div>
              <div class="mb-3">
                <label class="form-label" for="cusAddress">Customer Address</label>
                <input class="form-control" id="cusAddress" name="customerAddress" placeholder="Customer Address"
                       type="text">
              </div>
              <div class="mb-3">
                <label class="form-label" for="cusSalary">Customer Salary</label>
                <input class="form-control" id="cusSalary" name="customerSalary" placeholder="Customer Salary"
                       type="text">
              </div>
              <div class="mb-3">
                <button class="btn btn-primary" id="btnSaveCustomer" type="button">Save</button>
                <button class="btn btn-warning" id="btnUpdateCustomer" type="button">Update</button>
                <button class="btn btn-danger" id="btnDeleteCustomer" type="button">Delete</button>
                <button class="btn btn-success" id="btnGetAllCustomers">Get All</button>
              </div>
            </form>
          </div>
          <div class="col">
            <table class="table table-bordered table-hover">
              <thead class="bg-danger text-white">
              <tr>
                <th>Customer ID</th>
                <th>Name</th>
                <th>Address</th>
                <th>Salary</th>
              </tr>
              </thead>
              <tbody id="tblCustomerJson">
              <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>
  </section>


<!-- item//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

<section class="container" id="itemWindow">
  <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
    <ol class="breadcrumb mt-5">
      <li class="breadcrumb-item"><a href="#">Home</a></li>
      <li class="breadcrumb-item active" aria-current="page">Customers</li>
    </ol>
  </nav>

  <section class="row">
      <div class="custombar col-12 col-md-12 mt-1">
        <p class="mt-2"><img src="assets/img/items.png" alt="" width="45" height="45">Items</p>
      </div>
  </section>

  <section class="row">
    <div class="col-12 col-md-12 col-lg  mt-5">
      <div id="btnsItems" class="btn-group" role="group" aria-label="Basic mixed styles example">
        <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal2">Delete</button>
        <button id="btnUpdateItem" type="button" class="btn btn-primary"  data-bs-toggle="modal" data-bs-target="#updateModal2">Update</button>
        <button type="button" class="btn btn-success"  data-bs-toggle="modal" data-bs-target="#addModal2">Add New Item</button>
      </div>
    </div>

    <div class="modal fade" id="deleteModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div id="deleteItem" class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Delete Item</h5>
            <button type="button" class="btn-close btn-light" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            Are you sure you want to delete Item?
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button id="btnItemDelete" type="button" class="btn btn-danger">Delete Item</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="addModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div id="addItem" class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add New Item</h5>
            <button type="button" class="btn-close btn-light" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="txtItemId" class="form-label">Item Code</label>
                <input type="text" class="form-control " id="txtItemId" aria-describedby="emailHelp">
                <p><small class="text-danger pl-1" id="lblitemid"></small></p>
              </div>
              <div class="mb-3">
                <label for="txtItemName" class="form-label">Type</label>
                <input type="text" class="form-control " id="txtItemName">
                <p><small class="text-danger pl-1" id="lblitemname"></small></p>
              </div>
              <div class="mb-3">
                <label for="txtItemQty" class="form-label">Qty On Hand</label>
                <input type="text" class="form-control " id="txtItemQty">
                <p><small class="text-danger pl-1" id="lblitemqty"></small></p>
              </div>
              <div class="mb-3">
                <label for="txtItemPrice" class="form-label">Price</label>
                <input type="text" class="form-control " id="txtItemPrice">
                <p><small class="text-danger pl-1" id="lblitemprice"></small></p>
              </div>                
            </form>
          </div>
          <div class="modal-footer">
            <button id="btnItemClear" type="button" class="btn btn-danger" >Clear</button>
            <button id="btnItemAdd" type="button" class="btn btn-success">Add Item</button>
          </div>
        </div>
      </div>
    </div>


    <div class="modal fade" id="updateModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div id="updateItem" class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Update Item</h5>
            <button type="button" class="btn-close btn-light" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="txtItemId2" class="form-label">Item Code</label>
                <input type="text" class="form-control " id="txtItemId2" aria-describedby="emailHelp">
                <p><small class="text-danger pl-1" id="lblitemid"></small></p>
              </div>
              <div class="mb-3">
                <label for="txtItemName2" class="form-label">Type</label>
                <input type="text" class="form-control " id="txtItemName2">
                <p><small class="text-danger pl-1" id="lblitemname"></small></p>
              </div>
              <div class="mb-3">
                <label for="txtItemQty2" class="form-label">Qty On Hand</label>
                <input type="text" class="form-control " id="txtItemQty2">
                <p><small class="text-danger pl-1" id="lblitemqty"></small></p>
              </div>
              <div class="mb-3">
                <label for="txtItemPrice2" class="form-label">Price</label>
                <input type="text" class="form-control " id="txtItemPrice2">
                <p><small class="text-danger pl-1" id="lblitemprice"></small></p>
              </div>                
            </form>
          </div>
          <div class="modal-footer">
            <button id="btnItemClears" type="button" class="btn btn-danger" >Clear</button>
            <button id="btnItemUpdate" type="button" class="btn btn-success">Update Item</button>
          </div>
        </div>
      </div>
    </div>


    <div  class="col col-md-12 col-lg  mt-5">
      <form id="search" class="d-flex">
        <input id="txtItemSearch" aria-label="Search" class="border form-control me-2  border-primary border-3" placeholder="Enter Item" type="search">
        <div class="dropdown">
          <a class="btn btn-light btn-lg dropdown-toggle border-success border-3" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
            Type
          </a>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
            <li><a class="dropdown-item" href="#">ID</a></li>
            <li><a class="dropdown-item" href="#">Type</a></li>
          </ul>
        </div>
        <button id="btnItemSearch" class="btn btn-outline-success border-success border-3" type="button" data-bs-toggle="modal" data-bs-target="#addModal2">Search</button>
      </form>
    <div>
  </section>
 
  <section class="row">
    <table  class="table  table-striped table-hover table-bordered border-light mt-5" style="background-color: #90bfdf;">
      <thead class="table-striped" style="background-color: #024877; color: white;">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Type</th>
          <th scope="col">Qty</th>
          <th scope="col">Price</th>
        </tr>
      </thead>
      <tbody id="tblItem">
       
      </tbody>
    </table>
</section>
</section>


   

<!-- placeOrder /////////////////////////////////////////////////////////////////////////////////////////////////////////////-->

    <section class="container" id="orderwindow">

      <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
        <ol class="breadcrumb mt-5">
          <li class="breadcrumb-item"><a href="#">Home</a></li>
          <li class="breadcrumb-item active" aria-current="page">PlaceOrder</li>
        </ol>
      </nav>

      <section class="row">
          <div class="orderbar col-12 col-md-12 mt-1">
            <p class="mt-2"><img src="assets/img/icons8_create_order_48px_3.png" alt="" width="45" height="45">PlaceOrder</p>
          </div>
      </section>
    
      <section class="row abcd">
        <div class="detail col-11 col-md-5 col-lg-4   mt-5">
          <div class="divs"><span class="text text-light">Customer Details</span></div>
          <div class="modal-body">
            <form>
              <div class="mt-3">
                  <input id="InputCusId" aria-label="Search" class="border form-control me-2  border-primary border-3" placeholder="Enter Customer Id" type="search">
                  <button id="btnCustomerSearch2" class="mt-3 btn btn-outline-success border-success border-3" type="button">Search</button>

              </div>
              <div class="mt-5">
                <label for="InputCusName" class="form-label ">Name</label>
                <input type="text" class="form-control border-primary border-2" id="InputCusName">
              </div>
              <div class="mt-4">
                <label for="InputCusAddress" class="form-label ">Address</label>
                <input type="text" class="form-control border-primary border-2" id="InputCusAddress">
              </div>
              <div class="mt-4">
                <label for="InputCusContact" class="form-label ">Contact</label>
                <input type="text" class="form-control border-primary border-2" id="InputCusContact">
              </div>                
            </form>
          </div>
         
        </div>
    
        <div  class="detail col-11 col-md-5 col-lg-4  mt-5 ">
          
          <div class="divs"><span class="text text-light">Item Details</span></div>
          <div class="modal-body">
            <form>
              <div class="dropdown mt-3 d-flex">
                <input id="InputItemCode" aria-label="Search" class="border form-control me-2  border-primary border-3" placeholder="Enter Item code" type="search">
                <button id="btnItemSearch2" class="mt-1 btn btn-outline-success border-success border-3" type="button">Search</button>
              </div>
              <div class="mb-3 mt-4">
                <label for="InputItemType" class="form-label ">Item Type</label>
                <input type="text" class="form-control border-primary border-2" id="InputItemType">
              </div>
              <div class="mb-3">
                <label for="InputItemQtyHand" class="form-label ">Qty On Hand</label>
                <input type="text" class="form-control border-primary border-2" id="InputItemQtyHand">
              </div>
              <div class="mb-3">
                <label for="InputItemPrice" class="form-label ">Price</label>
                <input type="text" class="form-control border-primary border-2" id="InputItemPrice">
              </div> 
              <div class="mb-3">
                <label for="InputItemQtySale" class="form-label ">Qty For Sale</label>
                <input type="text" class="form-control border-primary border-2" id="InputItemQtySale">
              </div>  
              <div class="form-floating mt-4">
                <button id="btnAddTocart" type="button" class="btn btn-success right">Add to Cart</button>
                <button id="btnClearOrder" type="button" class="btn btn-danger right">Clear</button>
              </div>              
            </form>
          </div> 
        </div>
    
        <div  class="detail col-11 col-md-11 col-lg-3  mt-5">
            <div class="divs"><span class="text text-light ">Order Details</span></div>
            <div class="modal-body">
              <form>
                <div class="mb-3 mt-3">
                  <input type="date" class="form-control border-primary border-2" id="orderDate">
                </div>
                <div class="form-floating mt-4">
                  <input type="text" class="form-control" id="orderId" placeholder="Price">
                  <label for="floatingPassword">Order Id</label>
                </div> 
                <div class="form-floating mt-4">
                  <input type="text" class="form-control border-danger border-4" id="orderPrice" placeholder="Price" >
                  <label for="floatingPassword">Price</label>
                </div>   
                <div class="form-floating mt-4">
                  <input type="text" class="form-control border-primary border-4" id="orderDiscount" placeholder="Price">
                  <label for="floatingPassword">Discount %</label>
                </div>   
                <div class="form-floating mt-4">
                  <input type="text" class="form-control border-success border-4" id="orderBalance" placeholder="Price">
                  <label for="floatingPassword">Balance</label>
                </div> 
                <div class="form-floating mt-5">
                  <button id="btnPlaceOrder" type="button" class="btn btn-success right">Place Order</button>
                  <button id="btnCancelOrder" type="button" class="btn btn-danger right">Cancel Order</button>
                </div>              
              </form>
            </div>
        </div>
      </section>
    
      <section class="row">
        <table class="table  table-striped table-hover table-bordered border-light mt-5" style="background-color: #90bfdf;">
          <thead class="table-striped" style="background-color: #024877; color: white;">
            <tr>
              <th scope="col">Item Code</th>
              <th scope="col">Type</th>
              <th scope="col">Qty</th>
              <th scope="col">Price</th>
              <th scope="col">Total</th>
            </tr>
          </thead>
          <tbody id="tblOrder">
           
          </tbody>
        </table>
      </section>
    </section>

    
    <script src="assets/jQuery/jquery-3.6.0.min.js"></script> 

<!--    <script src="model/Customer.js"></script>-->

<!--    <script src="model/Item.js"></script>-->

<!--    <script src="model/Order.js"></script>-->

<!--    <script src="db/Db.js"></script>-->

<!--    <script  src="controller/CustomerController.js"></script>-->

<!--    <script src="controller/ItemController.js"></script>-->

   <!-- <script src="controller/OrderController.js"></script>-->

    
    
    <script>
      document.getElementById("itemWindow").style.display="none";
      document.getElementById("orderwindow").style.display="none";
  
      document.getElementById("nav-custom").addEventListener("click",function () {
        document.getElementById("customWindow").style.display="block";
        document.getElementById("itemWindow").style.display="none";
        document.getElementById("orderwindow").style.display="none";
      });
 
      document.getElementById("nav-item").addEventListener("click",function () {
        document.getElementById("itemWindow").style.display="block";
        document.getElementById("customWindow").style.display="none";
        document.getElementById("orderwindow").style.display="none";  
      });
 
      document.getElementById("nav-order").addEventListener("click",function () {
        document.getElementById("orderwindow").style.display="block";
        document.getElementById("itemWindow").style.display="none";
        document.getElementById("customWindow").style.display="none";
      }); 
     

  </script>

    <script>

      $("#btnGetAllCustomers").click(function () {
        loadAllCustomers();
      });

      //Save customer
      $("#btnSaveCustomer").click(function () {
        var data = $("#customerForm").serialize(); // return query string of form with name:type-value
        $.ajax({
          url: "customer",
          method: "POST",
          data: data,// if we send data with the request
          success: function (res) {
            alert(res);
            loadAllCustomers();
          },
          error: function (ob, textStatus, error) {
            alert(textStatus);
            console.log(ob.responseText);
          }
        });
      });

      //Query String
      //http://localhost:8080/apptwo/customer?CusID=C00-001&CusName=Dasun
      //Delete customer
      $("#btnDeleteCustomer").click(function () {
        // Get the customer id
        let customerID = $("#cusID").val();

        // initiate the request
        $.ajax({
          url: "customer?CusID=" + customerID,// viva query string
          method: "DELETE",
          //data:data,// application/x-www-form-urlencoded
          success: function (res) {
            alert(res);
            loadAllCustomers();
          }
        });
      });

      //Update customer
      $("#btnUpdateCustomer").click(function () {
        let formData = $("#customerForm").serialize();
        console.log(formData);
        $.ajax({
          url: "customer?" + formData,
          method: "PUT",
          // data:formData,
          success: function (res) {
            alert(res);
            loadAllCustomers();
          }
        });
      });


      loadAllCustomers();

      //Methods
      function loadAllCustomers() {
        $("#tblCustomerJson").empty();
        $.ajax({
          url: "customer",
          method: "GET",
          // dataType:"json", // please convert the response into JSON
          success: function (resp) {
            console.log(typeof resp);
            for (const customer of resp) {
              let row = `<tr><td>${customer.id}</td><td>${customer.name}</td><td>${customer.address}</td><td>${customer.contact}</td></tr>`;
              $("#tblCustomerJson").append(row);
            }
            bindClickEvents();
          }
        });

      }

      //Bind click events to the table rows
      function bindClickEvents() {
        $("#tblCustomerJson>tr").click(function () {
          //Get values from the selected row
          let id = $(this).children().eq(0).text();
          let name = $(this).children().eq(1).text();
          let address = $(this).children().eq(2).text();
          let contact = $(this).children().eq(3).text();

          //Set values to the text-fields
          $("#cusID").val(id);
          $("#cusName").val(name);
          $("#cusAddress").val(address);
          $("#cusSalary").val(contact);
        });
      }
    </script>

  <script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>

  
</body>
</html>